<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İndirimli Fiyat Hesaplayıcı - Hesaplama Dünyası</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="discount-calculator.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1><a href="index.html" class="header-link-nav">Hesaplama Dünyası</a></h1>
        <p>İndirimli Fiyatları ve Tasarruflarınızı Hesaplayın</p>
    </header>

    <main class="page-container">
        <div class="tool-container discount-calculator-container">
            <h2>İndirimli Fiyat Hesaplayıcı</h2>

            <form id="discountForm">
                <div class="form-group">
                    <label for="originalPrice">Orijinal Fiyat (₺):</label>
                    <input type="number" id="originalPrice" name="originalPrice" min="0" step="any" required placeholder="Örn: 250">
                </div>

                <div class="form-section-title">İndirimler</div>
                <div class="discount-inputs">
                    <div class="form-group discount-group">
                        <label for="discountRate1">1. İndirim Oranı (%):</label>
                        <input type="number" id="discountRate1" name="discountRate1" min="0" max="100" step="any" placeholder="Örn: 15">
                        <small>İlk veya ana indirim oranı.</small>
                    </div>

                    <div class="form-group discount-group">
                        <label for="discountRate2">2. Ek İndirim Oranı (%): <span class="optional-text">(İsteğe Bağlı)</span></label>
                        <input type="number" id="discountRate2" name="discountRate2" min="0" max="100" step="any" placeholder="Örn: 10">
                        <small>İlk indirim sonrası uygulanacak ek indirim.</small>
                    </div>
                </div>

                <div class="form-group form-actions">
                    <button type="submit" class="btn-primary">Hesapla</button>
                    <button type="reset" class="btn-secondary">Temizle</button>
                </div>
            </form>

            <div id="resultArea" class="result-area" style="display: none;">
                <h3>Hesaplama Sonuçları:</h3>
                <div class="result-item">
                    <span class="result-label">Orijinal Fiyat:</span>
                    <span class="result-value" id="resultOriginalPrice"></span> ₺
                </div>
                <div class="result-item" id="firstDiscountInfo" style="display: none;">
                    <span class="result-label">1. İndirim Tutarı (%<span id="appliedDiscountRate1"></span>):</span>
                    <span class="result-value" id="resultDiscountAmount1"></span> ₺
                </div>
                 <div class="result-item" id="priceAfterFirstDiscountInfo" style="display: none;">
                    <span class="result-label">1. İndirim Sonrası Fiyat:</span>
                    <span class="result-value" id="resultPriceAfterDiscount1"></span> ₺
                </div>
                <div class="result-item" id="secondDiscountInfo" style="display: none;">
                    <span class="result-label">2. Ek İndirim Tutarı (%<span id="appliedDiscountRate2"></span>):</span>
                    <span class="result-value" id="resultDiscountAmount2"></span> ₺
                </div>
                <div class="result-item highlight-result">
                    <span class="result-label">İndirimli Son Fiyat:</span>
                    <span class="result-value" id="resultFinalPrice"></span> ₺
                </div>
                <div class="result-item savings-result">
                    <span class="result-label">Toplam Tasarruf:</span>
                    <span class="result-value" id="resultTotalSavings"></span> ₺
                </div>
                <div class="result-summary" id="resultTotalEffectiveDiscount" style="display: none;">
                    <p>Toplam efektif indirim oranı: Yaklaşık <strong>%<span id="effectiveDiscountRateValue"></span></strong></p>
                </div>
            </div>

            <div class="error-message-container" id="error-message-box" style="display: none;" role="alert">
                <!-- Hata mesajı JS ile buraya eklenecek -->
            </div>

            <div class="back-to-home">
                <a href="index.html" class="btn-secondary">« Ana Sayfaya Dön</a>
            </div>
        </div>
    </main>

    <footer>
        <p>© <span id="current-year"></span> Hesaplama Dünyası. Tüm hakları saklıdır. <a href="index.html">Ana Sayfa</a></p>
    </footer>

    <script src="discount-calculator.js"></script>
</body>
</html>